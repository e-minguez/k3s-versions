{"componentChunkName":"component---src-pages-markdown-remark-parent-file-name-js","path":"/v1-23-17-k3s1/","result":{"data":{"markdownRemark":{"parent":{"name":"v1.23.17+k3s1"},"html":"<!-- v1.23.17+k3s1 -->\n<p>This release updates Kubernetes to v1.23.17, and fixes a number of issues.</p>\n<p>For more details on what's new, see the <a href=\"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.23.md#changelog-since-v12316\">Kubernetes release notes</a>.</p>\n<h2>Changes since v1.23.16+k3s1:</h2>\n<ul>\n<li>Add jitter to scheduled snapshots and retry harder on conflicts <a href=\"https://github.com/k3s-io/k3s/pull/6784\">(#6784)</a>\n<ul>\n<li>Scheduled etcd snapshots are now offset by a short random delay of up to several seconds. This should prevent multi-server clusters from executing pathological behavior when attempting to simultaneously update the snapshot list ConfigMap. The snapshot controller will also be more persistent in attempting to update the snapshot list.</li>\n</ul>\n</li>\n<li>Bugfix: do not break cert-manager when pprof is enabled <a href=\"https://github.com/k3s-io/k3s/pull/6839\">(#6839)</a></li>\n<li>Fix cronjob example <a href=\"https://github.com/k3s-io/k3s/pull/6866\">(#6866)</a></li>\n<li>Consolidate E2E tests <a href=\"https://github.com/k3s-io/k3s/pull/6889\">(#6889)</a></li>\n<li>Bump vagrant boxes to fedora37 <a href=\"https://github.com/k3s-io/k3s/pull/6910\">(#6910)</a></li>\n<li>Ignore value conflicts when reencrypting secrets <a href=\"https://github.com/k3s-io/k3s/pull/6917\">(#6917)</a></li>\n<li>Use default address family when adding kubernetes service address to SAN list <a href=\"https://github.com/k3s-io/k3s/pull/6906\">(#6906)</a>\n<ul>\n<li>The apiserver advertised address and IP SAN entry are now set correctly on clusters that use IPv6 as the default IP family.</li>\n</ul>\n</li>\n<li>Allow ServiceLB to honor <code>ExternalTrafficPolicy=Local</code> <a href=\"https://github.com/k3s-io/k3s/pull/6909\">(#6909)</a>\n<ul>\n<li>ServiceLB now honors the Service's ExternalTrafficPolicy. When set to Local, the LoadBalancer will only advertise addresses of Nodes with a Pod for the Service, and will not forward traffic to other cluster members.</li>\n</ul>\n</li>\n<li>Fix issue with servicelb startup failure when validating webhooks block creation <a href=\"https://github.com/k3s-io/k3s/pull/6921\">(#6921)</a>\n<ul>\n<li>The embedded cloud controller manager will no longer attempt to unconditionally re-create its namespace and serviceaccount on startup. This resolves an issue that could cause a deadlocked cluster when fail-closed webhooks are in use.</li>\n</ul>\n</li>\n<li>Backport user-provided CA cert and <code>kubeadm</code> bootstrap token support <a href=\"https://github.com/k3s-io/k3s/pull/6931\">(#6931)</a>\n<ul>\n<li>K3s now functions properly when the cluster CA certificates are signed by an existing root or intermediate CA. You can find a sample script for generating such certificates before K3s starts in the github repo at <a href=\"https://github.com/k3s-io/k3s/blob/master/contrib/util/certs.sh\">contrib/util/certs.sh</a>.</li>\n<li>K3s now supports <code>kubeadm</code> style join tokens. <code>k3s token create</code> now creates join token secrets, optionally with a limited TTL.</li>\n<li>K3s agents joined with an expired or deleted token stay in the cluster using existing client certificates via the NodeAuthorization admission plugin, unless their Node object is deleted from the cluster.</li>\n</ul>\n</li>\n<li>Fix access to hostNetwork port on NodeIP when egress-selector-mode=agent <a href=\"https://github.com/k3s-io/k3s/pull/6938\">(#6938)</a>\n<ul>\n<li>Fixed an issue that would cause the apiserver egress proxy to attempt to use the agent tunnel to connect to service endpoints even in agent or disabled mode.</li>\n</ul>\n</li>\n<li>Allow for multiple sets of leader-elected controllers <a href=\"https://github.com/k3s-io/k3s/pull/6943\">(#6943)</a>\n<ul>\n<li>Fixed an issue where leader-elected controllers for managed etcd did not run on etcd-only nodes</li>\n</ul>\n</li>\n<li>Fix etcd and ca-cert rotate issues <a href=\"https://github.com/k3s-io/k3s/pull/6956\">(#6956)</a></li>\n<li>Update flannel to v0.21.1 <a href=\"https://github.com/k3s-io/k3s/pull/6964\">(#6964)</a></li>\n<li>Fix ServiceLB dual-stack ingress IP listing <a href=\"https://github.com/k3s-io/k3s/pull/6989\">(#6989)</a>\n<ul>\n<li>Resolved an issue with ServiceLB that would cause it to advertise node IPv6 addresses, even if the cluster or service was not enabled for dual-stack operation.</li>\n</ul>\n</li>\n<li>Bump kine to v0.9.9 or newer <a href=\"https://github.com/k3s-io/k3s/pull/6991\">(#6991)</a>\n<ul>\n<li>The embedded kine version has been bumped to v0.9.9. Compaction log messages are now omitted at <code>info</code> level for increased visibility.</li>\n</ul>\n</li>\n<li>Update to v1.23.17-k3s1 <a href=\"https://github.com/k3s-io/k3s/pull/7005\">(#7005)</a></li>\n</ul>\n<h2>Embedded Component Versions</h2>\n<table>\n<thead>\n<tr>\n<th>Component</th>\n<th>Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Kubernetes</td>\n<td><a href=\"https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.23.md#v12317\">v1.23.17</a></td>\n</tr>\n<tr>\n<td>Kine</td>\n<td><a href=\"https://github.com/k3s-io/kine/releases/tag/v0.9.9\">v0.9.9</a></td>\n</tr>\n<tr>\n<td>SQLite</td>\n<td><a href=\"https://sqlite.org/releaselog/3_39_2.html\">3.39.2</a></td>\n</tr>\n<tr>\n<td>Etcd</td>\n<td><a href=\"https://github.com/k3s-io/etcd/releases/tag/v3.5.4-k3s1\">v3.5.4-k3s1</a></td>\n</tr>\n<tr>\n<td>Containerd</td>\n<td><a href=\"https://github.com/k3s-io/containerd/releases/tag/v1.5.16-k3s2-1-22\">v1.5.16-k3s2-1-22</a></td>\n</tr>\n<tr>\n<td>Runc</td>\n<td><a href=\"https://github.com/opencontainers/runc/releases/tag/v1.1.4\">v1.1.4</a></td>\n</tr>\n<tr>\n<td>Flannel</td>\n<td><a href=\"https://github.com/flannel-io/flannel/releases/tag/v0.21.1-k3s1.23\">v0.21.1-k3s1.23</a></td>\n</tr>\n<tr>\n<td>Metrics-server</td>\n<td><a href=\"https://github.com/kubernetes-sigs/metrics-server/releases/tag/v0.6.2\">v0.6.2</a></td>\n</tr>\n<tr>\n<td>Traefik</td>\n<td><a href=\"https://github.com/traefik/traefik/releases/tag/v2.9.4\">v2.9.4</a></td>\n</tr>\n<tr>\n<td>CoreDNS</td>\n<td><a href=\"https://github.com/coredns/coredns/releases/tag/v1.9.4\">v1.9.4</a></td>\n</tr>\n<tr>\n<td>Helm-controller</td>\n<td><a href=\"https://github.com/k3s-io/helm-controller/releases/tag/v0.13.1\">v0.13.1</a></td>\n</tr>\n<tr>\n<td>Local-path-provisioner</td>\n<td><a href=\"https://github.com/rancher/local-path-provisioner/releases/tag/v0.0.23\">v0.0.23</a></td>\n</tr>\n</tbody>\n</table>\n<h2>Helpful Links</h2>\n<p>As always, we welcome and appreciate feedback from our community of users. Please feel free to:</p>\n<ul>\n<li><a href=\"https://github.com/rancher/k3s/issues/new/choose\">Open issues here</a></li>\n<li><a href=\"https://slack.rancher.io/\">Join our Slack channel</a></li>\n<li><a href=\"https://rancher.com/docs/k3s/latest/en/\">Check out our documentation</a> for guidance on how to get started or to dive deep into K3s.</li>\n<li><a href=\"https://github.com/rancher/k3s/blob/master/CONTRIBUTING.md\">Read how you can contribute here</a></li>\n</ul>"}},"pageContext":{"id":"edfc9a38-6f96-5a18-bf07-0a0f64aea296","parent__name":"v1.23.17+k3s1","__params":{"parent__name":"v1-23-17-k3s1"}}},"staticQueryHashes":["3159585216"],"slicesMap":{}}